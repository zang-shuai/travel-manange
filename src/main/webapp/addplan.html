<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
<form id="guiderform" method="post">
    <label>
        选择景点：
        <input name="gname" type="text">
    </label><br>
    <label>
        开始日期：
        <input name="pstartdate" type="date">
    </label><br>
    <label>
        结束日期：
        <input name="penddate" type="date">
    </label><br>
    <label>
        价格：
        <input name="pprice" type="number">
    </label><br>
    <label>
        最大游客数：
        <input name="pmaxcount" type="number">
    </label><br>


    点击查看导游：
    <button type="button" onclick="refresh()">刷新</button>


    <input type="submit">
</form>

<script>
    const pathname = window.document.location.pathname;
    const pa = pathname.substring(0, pathname.substr(1).indexOf('/') + 1);
    document.getElementById("guiderform").setAttribute("action", pa + "/addGuiderServlet");



    function refresh(){
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open("POST", "findFreeGuiderServlet", true);
        xmlhttp.send();
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {

            }
        }

    }





</script>
</body>
</html>